@mixin sub-menu
  position: absolute
  z-index: 9999
  top: $site-header-height
  left: 0
  color: $white
  background: $menu-background
  border-bottom-left-radius: em(3)
  border-bottom-right-radius: em(3)

@mixin tooltip
  @include sub-menu
  content: attr(title)
  width: em(200)


site-header
  position: relative
  height: $site-header-height
  background: $alpha_color
  color: $white
  font-weight: 200
  display: flex
  align-items: center

  .logo
    margin: 0 1em

    svg
      vertical-align: middle
      display: block
      fill: $white
      width: ($site-header-height * 2.71875) * 0.75
      height: $site-header-height * 0.75

    &:hover
      background: transparent
      @media #{$desktop}
        &:after
          @include tooltip
          right: initial
          left: 0
          width: em(260)
          padding: 0.25em
          @media #{$mobile}
            display: none

    @media #{$mobile}
      left: 0.33333em

.menu-bar
.menu-bar-item
  display: block
  float: left
  padding: 0 em(15)
  height: $site-header-height
  position: relative
  cursor: pointer
  color: $white

  &:hover
    background: scale-color($alpha_color, $lightness: -50%)

    .menu-list
      display: block

  .menu-list
    display: none

  > span
    vertical-align: middle

  @media #{$mobile}
    padding: 0 em(10)

  img
    border-radius: $border-radius
    display: inline
    height: $site-header-height * 0.75
    vertical-align: middle

.menu-list
  @include sub-menu
  min-width: 10em

.menu-list-item
  width: 100%
  display: block
  padding: 0 1.25em
  margin: 0.25em 0
  white-space: nowrap

  &, label
    cursor: pointer

  &:hover
    background: scale-color($alpha_color, $lightness: 20%)

  &.checkable
    padding-left: 0.25em

  &.has-sub-menu
    @media #{$min-mobile}
      span
        padding-right: 1.5em

        &:after
          content: ''
          height: 1.5em
          width: 0.66em
          display: block
          float: right
          background: $flyout-icon
          background-repeat: no-repeat
          background-position: 50% 50%

    &:hover
      background: transparent

      @media #{$min-mobile}
        .menu-sub-list
          display: block

  input
    display: inline-block
    -webkit-appearance: none
    outline: none
    background: transparent
    border: 0
    height: 0.75em
    width: 0.75em
    margin-right: 0.25em

    &:after
      content: ''
      padding: 0
      display: block
      width: 100%
      height: 100%

    &:checked:after
      background: $checkmark-icon
      background-repeat: no-repeat
      background-position: 50% 50%

.menu-sub-list
  background: transparent
  max-height: 25vh
  overflow: auto

  @media #{$min-mobile}
    display: none
    position: absolute
    min-width: 10em
    max-height: 75vh
    background: $menu-background
    left: 100%
    margin-top: -1.75em
    border-radius: em(3)

.menu-list-section
  border-top: 1px solid scale-color($alpha_color, $lightness: -80%)
  padding: 1px 0 0
  margin: 0.25em 0 0

  &:first-child
    border-top: 0
    padding-top: 0
    margin-top: 0

.view-menu
  @media #{$mobile}
    display: none
